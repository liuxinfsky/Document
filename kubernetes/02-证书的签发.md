## `安装CFSSL`

> $ wget https://pkg.cfssl.org/R1.2/cfssl_linux-amd64 -O /usr/bin/cfssl
> $ wget https://pkg.cfssl.org/R1.2/cfssljson_linux-amd64 -O /usr/bin/cfssl-json
> $ wget https://pkg.cfssl.org/R1.2/cfssl-certinfo_linux-amd64 -O /usr/bin/cfssl-certinfo
> $ chmod +x /usr/bin/cfssl*


## `创建生成CA证书签名请求(csr)的JSON配置文件`
```
$ cat /opt/certs/ca-csr.json
{
    "CN": "Kubernetes",
    "hosts": [
    ],
    "key": {
        "algo": "rsa",
        "size": 2048
    },
    "names": [
        {
            "C": "CN",
            "ST": "beijing",
            "L": "beijing",
            "O": "od",
            "OU": "ops"
        }
    ],
    "ca": {
        "expiry": "175200h"
    }
}
```

## `生成ca证书和私钥`
#### `ca.pem、ca.csr、ca-key.pem(CA证书、私钥，需要妥善保存)`
```
$ cfssl gencert -initca ca-csr.json | cfssl-json -bare ca
```
